<p>Într-un loc îndepărtat amplasat strategic, se află mai mulţi soldați identificaţi prin numere naturale nenule unice. Ordinea și disciplina militară impun aşezarea soldaților în linie la apelul de dimineață. Fiecare soldat a primit la sosirea în unitate numărul său și numerele de identificare ale camarazilor care trebuie să fie în stânga și în dreapta sa la aliniere. Excepţie fac doi soldaţi santinele care primesc doar numărul propriu de identificare şi se vor aşeza pe prima, respectiv pe ultima poziţie din linie. Uneori, unii soldaţi sunt plecați în misiuni, iar apelul de dimineaţă în unitate se face astfel: fiecare dintre cei prezenţi strigă cele trei numere primite – numărul lui, numărul camaradului din stânga lui şi al camaradului din dreapta lui, chiar dacă aceștia lipsesc. </p>

<p>Ei nu ştiu însă că, după un zid, stă pitită spioana Bulbuka, trimisă în recunoaștere. Ea îi ascultă şi înregistrează toate tripletele de numere care sunt strigate. După cele trei numere strigate de fiecare soldat, Bulbuka, fiind foarte inteligentă, deduce corect câte grupuri de soldaţi care și-au strigat prezența sunt până în momentul respectiv. Ea consideră că un grup este format din toţi acei soldaţi care şi-au strigat propriul număr şi care sunt aşezaţi unul lângă celălalt (dacă un soldat a strigat numărul camaradului, acesta din urmă nu este inclus în grup decât dacă a strigat şi el propriul număr). </p>

<h1>Cerința</h1>

<p>Aflați care sunt numerele de grupuri de soldați deduse de Bulbuka în fiecare moment.</p>

<h1>Date de intrare</h1>

<p>Pe prima linie a fişierului <code>spion.in</code> se află <code>N</code>, numărul de soldaţi ce îşi vor striga prezența. Pe următoarele <code>N</code> linii se află câte <code>3</code> numere <code>x[i]</code>, <code>s[i]</code> și <code>d[i]</code>, separate prin câte un spaţiu, reprezentând tripletele pe care le strigă fiecare soldat (<code>x[i]</code> numărul soldatului, <code>s[i]</code> numărul camaradului din stânga lui şi <code>d[i]</code> numărul camaradului din dreapta lui).</p>

<h1>Date de ieșire</h1>

<p>Fişierul de ieşire <code>spion.out</code> va conţine <code>N</code> linii. Pe fiecare dintre cele <code>N</code> linii se va scrie numărul de grupuri dedus de Bulbuka la momentul respectiv.</p>

<h1>Restricții și precizări</h1>

<ul>
	<li><code>1 &lt; N  &lt; 500000</code></li>
	<li><code>1 &lt; x[i], s[i], d[i] &lt; 50000000, i=1,2,3,....,N</code></li>
	<li>Soldaţii santinele sunt mereu prezenţi, nu se strigă singuri (dar pot fi strigaţi de către camarazii vecini) și nu fac parte din niciun grup.</li>
	<li>Numerele strigate sunt corespunzătoare unei ordini corecte.</li>
</ul>

<br><script async="" src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- link-unit -->
<ins class="adsbygoogle" style="display:inline-block;width:728px;height:15px" data-ad-client="ca-pub-7152921241438800" data-ad-slot="6421896419" data-adsbygoogle-status="done"><ins id="aswift_1_expand" style="display:inline-table;border:none;height:15px;margin:0;padding:0;position:relative;visibility:visible;width:728px;background-color:transparent;"><ins id="aswift_1_anchor" style="display:block;border:none;height:15px;margin:0;padding:0;position:relative;visibility:visible;width:728px;background-color:transparent;"><iframe id="aswift_1" name="aswift_1" style="left:0;position:absolute;top:0;border:0;width:728px;height:15px;" sandbox="allow-forms allow-pointer-lock allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-top-navigation-by-user-activation" width="728" height="15" frameborder="0" src="https://googleads.g.doubleclick.net/pagead/ads?client=ca-pub-7152921241438800&amp;output=html&amp;h=15&amp;slotname=6421896419&amp;adk=1130877403&amp;adf=872686288&amp;w=728&amp;lmt=1595361115&amp;psa=1&amp;guci=1.2.0.0.2.2.0.0&amp;url=https%3A%2F%2Fwww.pbinfo.ro%2Fprobleme%2F610%2Fspion&amp;flash=0&amp;wgl=1&amp;adsid=NT&amp;dt=1595361114928&amp;bpp=9&amp;bdt=232&amp;idt=172&amp;shv=r20200716&amp;cbv=r20190131&amp;ptt=9&amp;saldr=aa&amp;abxe=1&amp;prev_fmts=336x280&amp;correlator=4986627918704&amp;frm=20&amp;pv=1&amp;ga_vid=704522989.1595356494&amp;ga_sid=1595361115&amp;ga_hid=670567557&amp;ga_fc=0&amp;iag=0&amp;icsg=17380323360767&amp;dssz=47&amp;mdo=0&amp;mso=0&amp;u_tz=180&amp;u_his=50&amp;u_java=0&amp;u_h=900&amp;u_w=1440&amp;u_ah=816&amp;u_aw=1440&amp;u_cd=30&amp;u_nplug=3&amp;u_nmime=4&amp;adx=41&amp;ady=1490&amp;biw=1200&amp;bih=649&amp;scr_x=0&amp;scr_y=0&amp;eid=21066612&amp;oid=3&amp;pvsid=2947647857205282&amp;pem=564&amp;ref=https%3A%2F%2Fwww.pbinfo.ro%2Fprobleme%2F1472%2Fcastel&amp;rx=0&amp;eae=0&amp;fc=896&amp;brdim=22%2C45%2C22%2C45%2C1440%2C23%2C1200%2C772%2C1200%2C649&amp;vis=1&amp;rsz=%7Co%7CeEbr%7C&amp;abl=NS&amp;pfx=0&amp;fu=8192&amp;bc=31&amp;ifi=2&amp;uci=a!2&amp;btvi=2&amp;fsb=1&amp;xpc=Cumx3vU1rN&amp;p=https%3A//www.pbinfo.ro&amp;dtd=177" marginwidth="0" marginheight="0" vspace="0" hspace="0" allowtransparency="true" scrolling="no" allowfullscreen="true" data-google-container-id="a!2" data-load-complete="true" data-google-query-id="CJrDuKSP3-oCFfDGuwgdDA4F7Q"></iframe></ins></ins></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script><h1>Exemplu</h1>

<p><code>spion.in</code></p>

<pre contenteditable="true" editable="true">6
9 2 3
8 5 4
5 3 8
7 1 2
2 7 9
3 9 5</pre>

<p><code>spion.out</code></p>

<pre contenteditable="true" editable="true">1
2
2
3
2
1</pre>

<h1>Explicație</h1>

<p>Prima dată strigă soldatul <code>9</code> care e notat prezent, deci primul grup este format doar din el. Camarazii <code>2</code> și <code>3</code> ar trebui să fie în stânga și dreapta lui dar nu și-au strigat prezența încă. În consecință, nu fac parte în acest moment din grupul lui <code>9</code>. </p>

<p>Strigă soldatul <code>8</code>, se formează două grupuri: <code>{9}</code> și <code>{8}</code>.</p>

<p>Strigă <code>5</code>, el va intra în grupul lui <code>8</code>, deci vor fi tot două grupuri: <code>{9}</code> și <code>{8,5}</code>.</p>

<p>Strigă <code>7</code>, dar pentru că cei doi camarazi nu s-au strigat încă prezenţi, <code>7</code> va forma un grup singur. Vor fi acum trei grupuri: <code>{7}</code>, <code>{9}</code> și @{8,5} etc.</p>						
<pre class="EnlighterJSRAW" data-enlighter-language="cpp">#include <fstream>
#include <bitset>
using namespace std;

ifstream cin("spion.in");
ofstream cout("spion.out");

bitset <50000001>F;
int n , val , st , dr , c;

int main()
{
    cin >> n;
    for(int i = 1 ; i <= n ; i++)
    {
        cin >> val >> st >> dr;
        if(F[st] == 1 &amp;&amp; F[dr] == 1) c--;
        else if(F[st] == 0 &amp;&amp; F[dr] == 0) c++;
        F[val] = 1;
        cout << c << '\n';
    }
}</pre>
