<p>La un supermarket există două case de marcat la care clienții își pot plăti cumpărăturile. Când intră în magazin, fiecare client primește un număr unic. Când aceștia vor să plătească, se așază la rând la una dintre cele două case. Clienții sunt procesați pe rând, în ordinea venirii lor.</p>

<h1>Cerința</h1>

<p>Scrieți un program care procesează cozile de la casele de marcat. Acest program primește <code>N</code> instrucțiuni pe care trebuie să le execute. Aceste instrucțiuni pot fi de următoarele 4 tipuri:</p>

<ul>
	<li><code>1</code> – S-a eliberat casa de marcat numărul <code>1</code>. Trebuie afișat numărul clientului care urmează la rând; dacă nu este nimeni la coadă la casa respectivă, se va afișa <code>-1</code>.</li>
	<li><code>2</code> – S-a eliberat casa de marcat numărul <code>2</code>. Trebuie afișat numărul clientului care urmează la rând; dacă nu este nimeni la coadă la casa respectivă, se va afișa <code>-1</code>.</li>
	<li><code>3 x</code> – Clientul cu numărul <code>x</code> se așază la coadă la casa la care așteaptă mai puțini clienți; dacă la ambele case așteaptă același număr de clienți, atunci clientul cu numărul <code>x</code> se va așeza la coadă la casa <code>1</code>; trebuie afișată coada la care se așază clientul <code>x</code>. Se garantează că acest client nu este deja așezat la vreun la rând.</li>
	<li><code>4 x</code> – Clientul cu numărul <code>x</code> părăsește rândul la care așteaptă (se garantează că era deja la un rând); în acest caz nu trebuie afișat nimic.</li>
</ul>

<h1>Date de intrare</h1>

<p>Fișierul de intrare <code>supermarket.in</code> conţine pe prima linie numărul de instrucțiuni N. Pe fiecare dintre următoarele N linii se află câte o instrucțiune, în forma descrisă la cerinţă.</p>

<h1>Date de ieșire</h1>

<p>Fișierul de ieșire <code>supermarket.out</code> va conţine rezultatele afişate în urma executării instrucţiunilor din fişierul de intrare, în ordinea din fişier, câte un rezultat pe o linie.</p>

<h1>Restricții și precizări</h1>

<ul>
	<li><code>4 ≤ N ≤ 100.000</code></li>
	<li><code>1 ≤ x ≤ 1.000.000</code></li>
	<li>Pentru teste valorând <code>30</code> de puncte, <code>4 ≤ N ≤ 1.000</code></li>
	<li>Pentru teste valorând <code>30</code> de puncte nu vor exista instrucțiuni de tipul <code>4</code>.</li>
	<li>Un client care a părăsit la un moment dat rândul (fie în urma unei instrucțiuni de tipul <code>4</code>, fie datorită faptului că a plătit la casă), se poate întoarce și se poate așeza din nou rând (ca și cum ar fi venit prima dată).</li>
</ul>

<br><script async="" src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- link-unit -->
<ins class="adsbygoogle" style="display:inline-block;width:728px;height:15px" data-ad-client="ca-pub-7152921241438800" data-ad-slot="6421896419" data-adsbygoogle-status="done"><ins id="aswift_1_expand" style="display:inline-table;border:none;height:15px;margin:0;padding:0;position:relative;visibility:visible;width:728px;background-color:transparent;"><ins id="aswift_1_anchor" style="display:block;border:none;height:15px;margin:0;padding:0;position:relative;visibility:visible;width:728px;background-color:transparent;"><iframe id="aswift_1" name="aswift_1" style="left:0;position:absolute;top:0;border:0;width:728px;height:15px;" sandbox="allow-forms allow-pointer-lock allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-top-navigation-by-user-activation" width="728" height="15" frameborder="0" src="https://googleads.g.doubleclick.net/pagead/ads?client=ca-pub-7152921241438800&amp;output=html&amp;h=15&amp;slotname=6421896419&amp;adk=1130877403&amp;adf=872686288&amp;w=728&amp;lmt=1595353613&amp;psa=1&amp;guci=1.2.0.0.2.2.0.0&amp;url=https%3A%2F%2Fwww.pbinfo.ro%2Fprobleme%2F2895%2Fsupermarket&amp;flash=0&amp;wgl=1&amp;dt=1595353613126&amp;bpp=19&amp;bdt=234&amp;idt=135&amp;shv=r20200716&amp;cbv=r20190131&amp;ptt=9&amp;saldr=aa&amp;abxe=1&amp;prev_fmts=336x280%2C0x0&amp;nras=1&amp;correlator=5217722434720&amp;frm=20&amp;pv=1&amp;ga_vid=1744050990.1595352838&amp;ga_sid=1595353613&amp;ga_hid=1828160745&amp;ga_fc=0&amp;iag=0&amp;icsg=17380323360767&amp;dssz=47&amp;mdo=0&amp;mso=0&amp;u_tz=180&amp;u_his=50&amp;u_java=0&amp;u_h=900&amp;u_w=1440&amp;u_ah=814&amp;u_aw=1440&amp;u_cd=30&amp;u_nplug=3&amp;u_nmime=4&amp;adx=41&amp;ady=1552&amp;biw=1200&amp;bih=647&amp;scr_x=0&amp;scr_y=0&amp;eid=21066533&amp;oid=3&amp;pvsid=3109779080806236&amp;pem=168&amp;ref=https%3A%2F%2Fwww.pbinfo.ro%2Fprobleme%2F3375%2Flabirint3&amp;rx=0&amp;eae=0&amp;fc=896&amp;brdim=22%2C45%2C22%2C45%2C1440%2C23%2C1200%2C770%2C1200%2C647&amp;vis=1&amp;rsz=%7Co%7CeEbr%7C&amp;abl=NS&amp;pfx=0&amp;fu=8192&amp;bc=31&amp;ifi=2&amp;uci=a!2&amp;btvi=2&amp;fsb=1&amp;xpc=qmKwR8r4GA&amp;p=https%3A//www.pbinfo.ro&amp;dtd=141" marginwidth="0" marginheight="0" vspace="0" hspace="0" allowtransparency="true" scrolling="no" allowfullscreen="true" data-google-container-id="a!2" data-load-complete="true" data-google-query-id="CMvlp6vz3uoCFSUF5godxBELAw"></iframe></ins></ins></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script><h1>Exemplu</h1>

<p><code>supermarket.in</code></p>

<pre contenteditable="true" editable="true">10
3 5
3 21
3 7
2
1
2
3 5
3 8
4 7
1</pre>

<p><code>supermarket.out</code></p>

<pre contenteditable="true" editable="true">1
2
1
21
5
-1
2
1
8</pre>

<h3>Explicație</h3>

<p>Clientul <code>5</code> se aşază la rând la casa <code>1</code><br>
Clientul <code>21</code> se aşază la rând la casa <code>2</code><br>
Clientul <code>7</code> se aşază la rând la casa <code>1</code><br>
La casa <code>2</code> intră clientul <code>21</code><br>
La casa <code>1</code> intră clientul <code>5</code><br>
La casa <code>2</code> nu este nimeni în așteptare <br>
Clientul <code>5</code> se aşază la rând la casa <code>2</code><br>
Clientul <code>8</code> se aşază la rând la casa <code>1</code><br>
Clientul <code>7</code> părăseşte rândul (nu se afişează nimic)<br>
La casa <code>1</code> intră clientul <code>8</code></p>						
<pre class="EnlighterJSRAW" data-enlighter-language="cpp">#include <fstream>
#define VMAX 1000002
#define NMAX 1000002
#define ZMILION 10000000
using namespace std;
ifstream fin("supermarket.in");
ofstream fout("supermarket.out");

int c[2][NMAX];
int unde[VMAX];
int inc[2]={1,1}, sf[2], lg[2];
int n;

int main()
{int i, tip, x, casa;
 fin >> n;
 for (i = 1; i <= n; i++)
     {
      fin >> tip;
      if(tip <= 2)
        {tip--;
         while (inc[tip]<=sf[tip] &amp;&amp; unde[c[tip][inc[tip]]]%ZMILION!=inc[tip])
                {inc[tip]++;}
         if (inc[tip]>sf[tip])
            fout << "-1\n";
            else
            {
            fout<<c[tip][inc[tip]]<<'\n';
            inc[tip]++; lg[tip]--;
            }
        }
        else
        {
        fin>>x;
        if (tip == 3)
            {
             casa=0;
             if (lg[1]<lg[0]) casa=1;
             fout<<casa+1<<'\n';
             sf[casa]++; c[casa][sf[casa]]=x;
             unde[x]=sf[casa]+casa*ZMILION;
             lg[casa]++;
            }
            else //4
            {
            casa=unde[x]/ZMILION;
            lg[casa]--;
            unde[x]=0;
            }

       }
     }
 fout.close();
 return 0;
}</pre>
